<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Nest</title>
    <!-- Add Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage-compat.js"></script>
    <!-- External CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<meta name="monetag" content="de9c220f5e99806e9e192d7a1b2dfe1d">
<script>(function(s){s.dataset.zone='9880576',s.src='https://groleegni.net/vignette.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
<body>
    <!-- Loading Spinner -->
    <div id="loading" class="loading" style="display: none;">
        <div class="loading-spinner"></div>
    </div>
    <!-- Hidden radio buttons for navigation -->
    <input type="radio" name="nav" id="nav-discover" class="nav-radio" checked>
    <input type="radio" name="nav" id="nav-movies" class="nav-radio">
    <input type="radio" name="nav" id="nav-trending" class="nav-radio">
    <input type="radio" name="nav" id="nav-mylist" class="nav-radio">
    <input type="radio" name="nav" id="nav-apps" class="nav-radio">
    
    <!-- Network Warning - Updated to match image -->
    <div class="network-warning hidden" id="network-warning">
        <i class="fas fa-wifi-slash network-warning-icon"></i>
        <div class="network-warning-text">No network connection found</div>
        <button class="network-warning-retry" onclick="checkNetworkConnection()">Try Again</button>
    </div>
    
    <!-- Direct Link Message -->
    <div id="direct-link-message" class="direct-link-message" style="display: none;">
        Opening shared video...
    </div>
    
    <header>
        <div class="header-top">
            <!-- Bars Icon -->
            <div class="bars-icon" onclick="toggleSidebarModal()">
                <i class="fas fa-bars"></i>
            </div>
            <!-- Logo as Image -->
            <div class="logo">
                <img src="https://ucarecdn.com/7a393d75-fb44-4018-a211-3ad749e6deca/-/preview/256x256/" alt="Arewatv Logo" />
            </div>
            <!-- History Icon -->
            <div class="history-icon" onclick="toggleHistoryModal()">
                <i class="fas fa-history"></i>
                <span class="notification-badge">3</span>
            </div>
            <!-- Search Bar Container -->
            <div class="search-container" style="position: relative;">
                <i class="fas fa-search"></i>
                <input type="text" id="search-bar" placeholder="Search movies..." oninput="handleSearch()" onfocus="showSearchSuggestions()" onblur="hideSearchSuggestions()" />
                <i class="fas fa-filter" onclick="toggleFilterModal()" style="margin-left: 10px; cursor: pointer;"></i>
                <!-- Search Suggestions -->
                <div class="search-suggestions" id="search-suggestions"></div>
            </div>
        </div>
    </header>
    
    <!-- Filter Modal -->
    <div class="filter-container" id="filter-modal">
        <div class="filter-header">
            <h3>Filter & Sort</h3>
            <button onclick="toggleFilterModal()">✖</button>
        </div>
        <div class="filter-section">
            <h4>Genre</h4>
            <div class="filter-options">
                <div class="filter-option active" data-genre="All">All</div>
                <div class="filter-option" data-genre="Action">Action</div>
                <div class="filter-option" data-genre="Drama">Drama</div>
                <div class="filter-option" data-genre="Comedy">Comedy</div>
                <div class="filter-option" data-genre="Romance">Romance</div>
                <div class="filter-option" data-genre="Thriller">Thriller</div>
            </div>
        </div>
        <div class="filter-section">
            <h4>Sort By</h4>
            <div class="filter-options">
                <div class="filter-option active" data-sort="Newest">Newest</div>
                <div class="filter-option" data-sort="Popular">Popular</div>
                <div class="filter-option" data-sort="Rating">Rating</div>
                <div class="filter-option" data-sort="A-Z">A-Z</div>
            </div>
        </div>
        <button class="apply-filter-btn" onclick="applyFilters()">Apply Filters</button>
    </div>
    
    <!-- Sidebar Modal -->
    <div class="sidebar-modal" id="sidebar-modal">
        <div class="sidebar-modal-header">
            <h3></h3>
            <button onclick="toggleSidebarModal()">×</button>
        </div>
        
        <!-- User Profile Section -->
        <div class="user-profile">
            <div class="user-avatar" id="user-avatar">
                <i class="fas fa-user" style="font-size: 36px;"></i>
            </div>
            <div class="user-info">
                <h3 id="user-name">Movie Nest User</h3>
                <p>Free Account</p>
            </div>
            <button class="edit-profile-btn" onclick="openEditProfileModal()">
                <i class="fas fa-edit"></i> Edit Profile
            </button>
        </div>
        
        <div class="sidebar-list" id="sidebar-list">
            <!-- Director Center - Now with upload functionality -->
            <div class="sidebar-item" onclick="checkUploadPassword()">
                <img src="https://cdn-icons-png.flaticon.com/128/18831/18831648.png" alt="Director Center">
                <span>Director Center</span>
            </div>
            <div class="sidebar-item" onclick="openAppsCenter()">
                <img src="https://cdn-icons-png.flaticon.com/128/5303/5303479.png" alt="Apps Center">
                <span>Apps Center</span>
            </div>
            <div class="sidebar-item" onclick="openAdsCenter()">
                <img src="https://cdn-icons-png.flaticon.com/128/9592/9592247.png" alt="Ads Center">
                <span>Ads Center</span>
            </div>
            <div class="sidebar-item" onclick="viewApps()">
                <img src="https://cdn-icons-png.flaticon.com/128/2767/2767325.png" alt="View Apps">
                <span>View Apps</span>
            </div>
            <div class="sidebar-item" onclick="viewAds()">
                <img src="https://cdn-icons-png.flaticon.com/128/2767/2767325.png" alt="View Ads">
                <span>View Ads</span>
            </div>
            <div class="sidebar-item">
                <img src="https://cdn-icons-png.flaticon.com/128/18392/18392966.png" alt="Online Service">
                <span>Online Service</span>
            </div>
            <div class="sidebar-item">
                <img src="https://cdn-icons-png.flaticon.com/128/2312/2312342.png" alt="Privacy Policy">
                <span>Privacy Policy</span>
            </div>
            <!-- New items -->
            <div class="sidebar-item">
                <img src="https://cdn-icons-png.flaticon.com/128/3405/3405247.png" alt="Settings">
                <span>Settings</span>
            </div>
            <div class="sidebar-item">
                <img src="https://cdn-icons-png.flaticon.com/128/2838/2838694.png" alt="Help">
                <span>Help & Support</span>
            </div>
        </div>
    </div>
    
    <!-- Password Modal -->
    <div class="password-modal" id="password-modal">
        <div class="password-content">
            <div class="password-header">
                <h3>Enter Password</h3>
                <button onclick="closePasswordModal()">✖</button>
            </div>
            <form class="password-form" onsubmit="validatePassword(event)">
                <input type="password" class="password-input" id="password-input" placeholder="Enter password" required>
                <button type="submit" class="password-submit">Submit</button>
                <div class="password-error" id="password-error"></div>
            </form>
        </div>
    </div>
    
    <!-- Upload Modal -->
    <div class="upload-modal" id="upload-modal">
        <div class="upload-content">
            <div class="upload-header">
                <h3>Upload Video</h3>
                <button onclick="closeUploadModal()">✖</button>
            </div>
            <form class="upload-form" id="upload-form">
                <div class="form-group">
                    <label for="video-title">Video Title</label>
                    <input type="text" id="video-title" placeholder="Enter video title" required>
                </div>
                <div class="form-group">
                    <label for="video-description">Description</label>
                    <textarea id="video-description" placeholder="Enter video description"></textarea>
                </div>
                <div class="form-group">
                    <label for="video-type">Video Type</label>
                    <select id="video-type" required onchange="toggleSeriesFields()">
                        <option value="movie">Movie</option>
                        <option value="series">Series</option>
                        <option value="anime">Anime</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="video-category">Category</label>
                    <select id="video-category" required>
                        <option value="Algaita Dub-Studio">Algaita Dub-Studio</option>
                        <option value="Sultan Record">Sultan Record</option>
                        <option value="Bollywood">Bollywood</option>
                        <option value="Kannywood">Kannywood</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="video-genre">Genre</label>
                    <select id="video-genre" required>
                        <option value="Action">Action</option>
                        <option value="Drama">Drama</option>
                        <option value="Comedy">Comedy</option>
                        <option value="Romance">Romance</option>
                        <option value="Thriller">Thriller</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="video-country">Country</label>
                    <select id="video-country" required>
                        <option value="USA">USA</option>
                        <option value="UK">UK</option>
                        <option value="Nigeria">Nigeria</option>
                        <option value="India">India</option>
                        <option value="Canada">Canada</option>
                        <option value="Australia">Australia</option>
                        <option value="Germany">Germany</option>
                        <option value="France">France</option>
                        <option value="Japan">Japan</option>
                        <option value="China">China</option>
                        <option value="South Korea">South Korea</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="video-year">Year</label>
                    <input type="number" id="video-year" min="1900" max="2030" placeholder="2023" required>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="video-trending" name="trending">
                        Mark as Trending
                    </label>
                </div>
                <div class="form-group">
                    <label for="video-url">Video URL</label>
                    <input type="url" id="video-url" placeholder="https://example.com/video" required>
                    <small style="color: #666; font-size: 12px;">Enter any valid video URL</small>
                </div>
                <div class="form-group">
                    <label for="video-download-url">Download URL (Optional)</label>
                    <input type="url" id="video-download-url" placeholder="https://example.com/download">
                    <small style="color: #666; font-size: 12px;">Required for Google Drive videos if you want to enable download</small>
                </div>
                <div class="form-group">
                    <label for="video-thumbnail">Thumbnail URL</label>
                    <input type="url" id="video-thumbnail" placeholder="https://example.com/thumbnail.jpg">
                </div>
                <div class="form-group">
                    <label for="video-carousel-thumbnail">Carousel Thumbnail URL (Optional)</label>
                    <input type="url" id="video-carousel-thumbnail" placeholder="https://example.com/carousel-thumbnail.jpg">
                    <small style="color: #666; font-size: 12px;">If not provided, the regular thumbnail will be used</small>
                </div>
                
                <!-- Series-specific fields - initially hidden -->
                <div id="series-fields" style="display: none;">
                    <div class="seasons-container" id="seasons-container">
                        <div class="season-header">
                            <div class="season-title">Seasons</div>
                            <button type="button" class="season-btn" onclick="addSeason()">Add Season</button>
                        </div>
                        <div id="seasons-list">
                            <!-- Seasons will be added here dynamically -->
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="upload-btn">Upload Video</button>
                <div class="upload-example">
                    <h4>Example URLs:</h4>
                    <p>YouTube: https://www.youtube.com/embed/MN4hHqWWpwU</p>
                    <p>Google Drive: https://drive.google.com/file/d/1CWOELtePqeDDI-t07aWB0NAWQXlvH-ul/preview</p>
                    <p>Google Drive Download: https://drive.google.com/uc?export=download&id=1CWOELtePqeDDI-t07aWB0NAWQXlvH-ul</p>
                    <p>Any other video source: https://example.com/video.mp4</p>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Ad Upload Modal -->
    <div class="ad-upload-modal" id="ad-upload-modal">
        <div class="ad-upload-content">
            <div class="ad-upload-header">
                <h3>Upload Ad</h3>
                <button onclick="closeAdUploadModal()">✖</button>
            </div>
            <form class="ad-upload-form" id="ad-upload-form">
                <div class="form-group">
                    <label for="ad-title">Ad Title</label>
                    <input type="text" id="ad-title" placeholder="Enter ad title" required>
                </div>
                <div class="form-group">
                    <label for="ad-description">Description</label>
                    <textarea id="ad-description" placeholder="Enter ad description"></textarea>
                </div>
                <div class="form-group">
                    <label for="ad-image">Ad Image URL</label>
                    <input type="url" id="ad-image" placeholder="https://example.com/ad-image.jpg" required>
                </div>
                <div class="form-group">
                    <label for="ad-link">Ad Link</label>
                    <input type="url" id="ad-link" placeholder="https://example.com" required>
                </div>
                <div class="form-group">
                    <label for="ad-category">Ad Category</label>
                    <select id="ad-category" required>
                        <option value="App">App</option>
                        <option value="Game">Game</option>
                        <option value="Service">Service</option>
                        <option value="Product">Product</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <button type="submit" class="upload-btn">Upload Ad</button>
            </form>
        </div>
    </div>
    
    <!-- App Upload Modal -->
    <div class="app-upload-modal" id="app-upload-modal">
        <div class="app-upload-content">
            <div class="app-upload-header">
                <h3>Upload App</h3>
                <button onclick="closeAppUploadModal()">✖</button>
            </div>
            <form class="app-upload-form" id="app-upload-form">
                <div class="form-group">
                    <label for="app-name">App Name</label>
                    <input type="text" id="app-name" placeholder="Enter app name" required>
                </div>
                <div class="form-group">
                    <label for="app-description">Description</label>
                    <textarea id="app-description" placeholder="Enter app description"></textarea>
                </div>
                <div class="form-group">
                    <label for="app-icon">App Icon URL</label>
                    <input type="url" id="app-icon" placeholder="https://example.com/app-icon.png" required>
                </div>
                <div class="form-group">
                    <label for="app-link">App Download Link</label>
                    <input type="url" id="app-link" placeholder="https://example.com/download" required>
                </div>
                <div class="form-group">
                    <label for="app-category">App Category</label>
                    <select id="app-category" required>
                        <option value="Entertainment">Entertainment</option>
                        <option value="Games">Games</option>
                        <option value="Productivity">Productivity</option>
                        <option value="Social">Social</option>
                        <option value="Tools">Tools</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="app-rating">App Rating</label>
                    <input type="number" id="app-rating" min="1" max="5" step="0.1" placeholder="4.5" required>
                </div>
                <button type="submit" class="upload-btn">Upload App</button>
            </form>
        </div>
    </div>
    
    <!-- Submenu for Ads Center -->
    <div class="submenu" id="ads-submenu">
        <div class="submenu-item" onclick="checkUploadAdPassword()">
            <img src="https://cdn-icons-png.flaticon.com/128/4208/4208469.png" alt="Upload Ad">
            <span>Upload Ad</span>
        </div>
        <div class="submenu-item" onclick="viewAds()">
            <img src="https://cdn-icons-png.flaticon.com/128/2767/2767325.png" alt="View Ads">
            <span>View Ads</span>
        </div>
    </div>
    
    <!-- Submenu for Apps Center -->
    <div class="submenu" id="apps-submenu">
        <div class="submenu-item" onclick="checkUploadAppPassword()">
            <img src="https://cdn-icons-png.flaticon.com/128/4208/4208469.png" alt="Upload App">
            <span>Upload App</span>
        </div>
        <div class="submenu-item" onclick="viewApps()">
            <img src="https://cdn-icons-png.flaticon.com/128/2767/2767325.png" alt="View Apps">
            <span>View Apps</span>
        </div>
    </div>
    
    <!-- Edit Profile Modal -->
    <div class="edit-profile-modal" id="edit-profile-modal">
        <div class="edit-profile-content">
            <div class="edit-profile-header">
                <h3>Edit Profile</h3>
                <button onclick="closeEditProfileModal()">✖</button>
            </div>
            <div class="avatar-selection">
                <div class="avatar-option" data-avatar="1">
                    <img src="https://cdn-icons-png.flaticon.com/128/6997/6997666.png" alt="Avatar 1">
                </div>
                <div class="avatar-option" data-avatar="2">
                    <img src="https://cdn-icons-png.flaticon.com/128/6997/6997662.png" alt="Avatar 2">
                </div>
                <div class="avatar-option" data-avatar="3">
                    <img src="https://cdn-icons-png.flaticon.com/128/6997/6997661.png" alt="Avatar 3">
                </div>
                <div class="avatar-option" data-avatar="4">
                    <img src="https://cdn-icons-png.flaticon.com/128/6997/6997664.png" alt="Avatar 4">
                </div>
            </div>
            <div class="form-group">
                <label for="user-name-input">Name</label>
                <input type="text" id="user-name-input" placeholder="Enter your name">
            </div>
            <button class="save-profile-btn" onclick="saveProfile()">Save Changes</button>
        </div>
    </div>
    
    <div class="notification-bar" id="notification-bar">
        <img src="https://bit.ly/434z6xR" alt="App Logo">
        <div class="notification-text">Enjoy more movies download movie nest app.</div>
        <button class="notification-button" onclick="window.open('https://www.appcreator24.com/app3501058-ks4rfa', '_blank')">OPEN</button>
        <button class="close-button" onclick="closeNotification()">✖</button>
    </div>
    <!-- History Modal -->
    <div class="history-modal" id="history-modal">
        <div class="history-modal-header">
            <h3>Recently Watched</h3>
            <button onclick="toggleHistoryModal()">✖</button>
        </div>
        <div class="history-list" id="history-list"></div>
        <button class="clear-history-button" onclick="clearHistory()">Clear All History</button>
    </div>
    <!-- Discover Section -->
    <div class="discover-container" id="discover-container">
        <!-- Carousel Section - Now inside discover section -->
        <div class="carousel-container">
            <div class="carousel" id="carousel"></div>
            <div class="dots" id="dots"></div>
        </div>
        
        <!-- Categories Section - New section based on screenshot -->
        <div class="categories-section">
            <div class="categories-title">Categories</div>
            <div class="categories-scroll" id="categories-scroll">
                <div class="category-btn active" data-category="All">All</div>
                <div class="category-btn" data-category="Algaita Dub-Studio">Algaita Dub-Studio</div>
                <div class="category-btn" data-category="Sultan Record">Sultan Record</div>
                <div class="category-btn" data-category="Bollywood">Bollywood</div>
                <div class="category-btn" data-category="Kannywood">Kannywood</div>
                <div class="category-btn" data-category="Action">Action</div>
                <div class="category-btn" data-category="Drama">Drama</div>
                <div class="category-btn" data-category="Comedy">Comedy</div>
            </div>
        </div>
        
        <div class="discover-scroll" id="discover-scroll"></div>
    </div>        
    <!-- Categories Section -->
    <div id="categories-container"></div>
    <!-- Grid Layout for View All and Search Results -->
    <div id="grid-container" class="grid-container" style="display: none;"></div>
    <!-- Navigation Modal -->
    <div class="nav-container" id="video-nav">
        <div class="nav-content">
            <div class="nav-header">
                <button id="close-btn" onclick="closeNav()"><i class="fas fa-arrow-left"></i></button>
                <div>
                    <button id="share-btn" onclick="shareMovie()"><i class="fas fa-share-alt"></i> Share</button>
                    <span id="view-count" style="margin-left: 10px; color: #ccc;">0 views</span>
                    <button id="save-btn" class="save-btn" onclick="toggleSaveStatus()">Add to list</button>
                </div>
            </div>
            <div class="nav-body">
                <div style="position: relative; width: 100%; height: 100%;">
                    <!-- Download button (only shown for videos with download URL) -->
                    <button class="download-btn" id="video-download-btn" style="display: none;" onclick="downloadVideo()">
                        <i class="fas fa-download"></i>
                        <span>Download</span>
                    </button>
                    <iframe id="video-player" src="" frameborder="0" allowfullscreen style="width: 100%; height: 100%;"></iframe>
                    <div class="player-controls">
                        <button><i class="fas fa-backward"></i></button>
                        <div class="player-timeline">
                            <div class="player-progress"></div>
                        </div>
                        <button><i class="fas fa-forward"></i></button>
                    </div>
                </div>
            </div>
            <!-- Ad container for video modal -->
            <div class="ad-container" id="video-ad-container" style="display: none;">
                <div class="ad-wrapper">
                    <div class="ad-content" id="video-ad-content">
                        <!-- Ad content will be inserted here by JavaScript -->
                    </div>
                </div>
                <a href="#" class="install-button" id="video-install-button">Install</a>
            </div>
            <!-- Episode Footer -->
            <div class="episode-footer" id="episode-footer" style="display: none;">
                <div class="episode-header">
                    <div class="episode-title" id="episode-title">Episodes</div>
                    <div class="episode-count" id="episode-count">0 Episodes</div>
                </div>
                <div class="episode-scroller" id="episode-scroller">
                    <!-- Episode buttons will be dynamically added here -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Social Media Descriptions -->
    <div id="social-media-descriptions">
        <h2>Follow us on social media:</h2>
    </div>
    <!-- Social Media Icons -->
    <div id="social-media">
        <a href="https://www.facebook.com/share/1AQXgVMP49/" target="_blank" class="social-icon">
            <i class="fab fa-facebook-f"></i>
        </a>
        <a href="#" target="_blank" class="social-icon">
            <i class="fab fa-twitter"></i>
        </a>
        <a href="#" target="_blank" class="social-icon">
            <i class="fab fa-telegram"></i>
        </a>
        <a href="#" target="_blank" class="social-icon">
            <i class="fab fa-instagram"></i>
        </a>
        <a href="#" target="_blank" class="social-icon">
            <i class="fab fa-youtube"></i>
        </a>
        <a href="#" target="_blank" class="social-icon">
            <i class="fab fa-whatsapp"></i>
        </a>
        <a href="#" target="_blank" class="social-icon">
            <i class="fab fa-tiktok"></i>
        </a>
    </div>
    <!-- Bottom Navigation Bar -->
    <footer>
        <label for="nav-discover" class="nav-icon" onclick="showDiscoverSection();">
            <i class="fas fa-compass"></i>
            <span>Discover</span>
        </label>
        <label for="nav-movies" class="nav-icon" onclick="showHomeVideos();">
            <i class="fas fa-film"></i>
            <span>Movies</span>
        </label>
        <label for="nav-trending" class="nav-icon" onclick="showTrendingVideos();">
            <i class="fas fa-fire"></i>
            <span>Trending</span>
        </label>
        <label for="nav-mylist" class="nav-icon" onclick="showMyList();">
            <i class="fas fa-list"></i>
            <span>My List</span>
        </label>
        <label for="nav-apps" class="nav-icon" onclick="showProfileSection();">
            <i class="fab fa-app-store"></i>
            <span>Apps</span>
        </label>
    </footer>
    
    <!-- External JavaScript -->
    <script src="script.js"></script>
</body>
<script type='text/javascript' src='//pl27654676.revenuecpmgate.com/6c/5a/5d/6c5a5d4aaf71d3cd7b6455bd3fadda6a.js'></script>
</html>
